<!-- A HTML document that produces the register page, to allow the user to create their account. -->
<!-- authors: Jack Skinner, Giulia Brown, Abi Hinton -->
{% extends "base.html" %}

{% block title %}Register - CO2 Saving Website{% endblock%}

{% block navbar %}
    {% if not request.user.is_authenticated %}
        <li class="nav-item">
            <a class="nav-link" href="/login/">Login</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="/leaderboard/user_leaderboard">Leaderboard</a>
        </li>
    {% else %}
        <li class="nav-item">
            <a class="nav-link" href="/logout/">Logout</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="/leaderboard/">Leaderboard</a>
        </li>
    {% endif %} 
{% endblock %}

{% block content %}
<br>
<div class="container">
    <div class="wrapper">
        <!-- POST form to retrieve the details of the user to create an account -->
        <form action="/register/" method="POST">
            <h1>Register</h1>
            {% csrf_token %} <!-- for security of the inputs of the POST form -->
            <!-- if an input was invalid, an error will be produced and printed on screen below for the user to re-enter their details correctly -->
            {% if error %}
                <p style='color:red'>{{ error }}</p>
            {% endif %}
            <!-- all the input boxes -->
            <div class="input-box">
                <input type="text" placeholder="first name" id="first_name" name="first_name" required>
            </div>
            <div class="input-box">
                <input type="text" placeholder="surname" id="last_name" name="last_name" required>
            </div>
            <div class="input-box">
                <input type="text" placeholder="username" id="username" name="username" required>
                <i class='bx bxs-user'></i>
            </div>
            <div class="input-box">
                <input type="text" placeholder="email" id="email" name="email" required>
                <i class='bx bxs-envelope'></i>
            </div>
            <div class="input-box">
                <input type="password" placeholder="password" id="password1" name="password1" required>
                <i class='bx bxs-lock-alt'></i>
            </div>
            <div class="input-box">
                <input type="password" placeholder="re-enter password" id="password2" name="password2" required>
                <i class='bx bxs-lock-alt'></i>
            </div>
            <div class="checkbox">
            <input type="checkbox" id="Privacy Policy" name="Privacy Policy" value="Accept">
                <label for="Privacy Policy"> I have read and accept the <a href="PrivacyPolicy">Privacy Policy</a></label><br>
            </div>
            <button type="submit" class="btn">Register</button>

            <!-- if the user is already registered, can click to login -->
            <div class="link">
                <p>Already registered? <a href="/login/">Login</a></p>
            </div>
        </form>
    </div>
    <br>
    <!--The footer, consistent across the site-->
    <div class="footer">
        <p>&copy; 2024 CarbonCommuter. All Rights Reserved.</p>
    </div>
</div>
{% endblock %}
